# Contact 模块测试用例文档

> 版本：1.0  
> 更新日期：2026-01-30  
> 测试类型：黑盒测试（真机）  
> 适用平台：iOS / Android App

---

## 一、模块概览

Contact 模块包含以下核心组件：

| 组件类别 | 组件名称 | 功能描述 |
|---------|---------|---------|
| **列表组件** | ContactList | 好友联系人列表（含字母索引） |
| | BlackList | 黑名单列表（含滑动删除） |
| | FriendApplicationList | 好友申请列表 |
| | GroupApplicationList | 群申请列表 |
| | GroupList | 群组列表（含字母索引） |
| **详情组件** | ContactInfo | 联系人详情容器组件 |
| | FriendInfo | 好友详情页 |
| | AddFriendInfo | 添加好友详情页 |
| | NewContactInfo | 新联系人申请详情页 |
| | ApplicationVerify | 验证信息填写页 |
| | SetRemark | 设置备注页 |
| **搜索组件** | AddFriend | 搜索添加好友 |
| | AddGroup | 搜索加入群组 |
| **占位组件** | EmptyList | 空列表占位 |
| | Loading | 加载中占位 |

---

## 二、测试用例

### 2.1 ContactList 联系人列表

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| CL-001 | ContactList | 页面首次加载 | 用户已登录，有好友数据 | 1. 进入联系人列表页面 | 1. 页面无白屏/闪烁<br>2. 好友列表正常渲染<br>3. 字母索引栏显示在右侧<br>4. 入口项（新联系人、群聊通知等）正常显示 | P0 |
| CL-002 | ContactList | 空列表状态 | 用户已登录，无好友 | 1. 进入联系人列表页面 | 1. 入口项正常显示<br>2. 好友区域显示 EmptyList 占位<br>3. 字母索引栏隐藏 | P0 |
| CL-003 | ContactList | 加载状态 | 好友数据加载中 | 1. 进入联系人列表页面<br>2. 观察加载过程 | 1. 显示 Loading 占位组件<br>2. 加载完成后平滑切换到列表 | P1 |
| CL-004 | ContactList | 好友名称显示-正常 | 好友有昵称/备注 | 1. 查看好友列表项 | 1. 优先显示备注名<br>2. 无备注显示昵称<br>3. 无昵称显示 userID | P0 |
| CL-005 | ContactList | 好友名称截断 | 好友昵称/备注超长（>20字） | 1. 查看超长名称的好友项 | 1. 文本单行显示<br>2. 超出部分显示省略号<br>3. 不出现文字溢出或换行 | P0 |
| CL-006 | ContactList | 字母索引导航 | 有多个字母分组的好友 | 1. 点击右侧字母索引栏的某个字母 | 1. 列表自动滚动到对应字母分组<br>2. 被点击字母高亮显示（蓝色）<br>3. 滚动过程流畅无卡顿 | P0 |
| CL-007 | ContactList | 列表滚动索引联动 | 有多个字母分组的好友 | 1. 手动滑动好友列表 | 1. 右侧字母索引栏高亮字母随滚动位置实时更新<br>2. 更新过程流畅 | P1 |
| CL-008 | ContactList | 入口项未读角标-新联系人 | 有未处理的好友申请 | 1. 查看「新的联系人」入口项 | 1. 显示红色圆形角标<br>2. 角标数字正确（超99显示99+）<br>3. 角标位置在箭头左侧 | P0 |
| CL-009 | ContactList | 入口项未读角标-群聊通知 | 有未处理的群申请 | 1. 查看「群聊通知」入口项 | 1. 显示红色圆形角标<br>2. 数字正确 | P0 |
| CL-010 | ContactList | 入口项点击响应 | - | 1. 分别点击「新的联系人」「群聊通知」「我的群聊」「黑名单」 | 1. 每项点击后触发 entryClick 事件<br>2. 页面跳转流畅无卡顿 | P0 |
| CL-011 | ContactList | 好友项点击响应 | 有好友数据 | 1. 点击某个好友 | 1. 好友项短暂高亮（选中态）<br>2. 触发 contactSelect 事件<br>3. 可正常跳转到好友详情 | P0 |
| CL-012 | ContactList | 长列表滑动性能 | 好友数量 > 200 | 1. 快速滑动好友列表<br>2. 持续滑动 10 秒以上 | 1. 滑动帧率稳定 ≥ 55fps<br>2. 无明显卡顿或掉帧<br>3. 字母索引联动正常 | P0 |
| CL-013 | ContactList | 头像加载 | 好友有头像 URL | 1. 查看好友列表 | 1. 头像正常加载显示<br>2. 无头像时显示默认头像（首字母）<br>3. 头像圆角正确（方形圆角） | P1 |
| CL-014 | ContactList | 刘海屏/动态岛适配 | iOS 刘海屏或动态岛机型 | 1. 进入联系人列表页面<br>2. 检查顶部安全区域 | 1. 内容不与刘海/动态岛重叠<br>2. 字母索引栏位置正确 | P0 |
| CL-015 | ContactList | Android 不同屏幕尺寸 | Android 设备（含折叠屏） | 1. 在不同尺寸设备上查看列表 | 1. 布局自适应，无溢出<br>2. 字体大小适中<br>3. 点击区域足够大 | P1 |
| CL-016 | ContactList | 底部好友统计 | 有好友数据 | 1. 滑动到列表底部 | 1. 显示「X个好友及联系人」<br>2. 数字与实际好友数一致 | P2 |
| CL-017 | ContactList | 入口项可配置隐藏 | showNewContact=false | 1. 配置隐藏「新的联系人」入口<br>2. 进入列表页 | 1. 「新的联系人」入口不显示<br>2. 其他入口正常 | P2 |

---

### 2.2 BlackList 黑名单列表

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| BL-001 | BlackList | 页面首次加载 | 用户已登录，有黑名单用户 | 1. 进入黑名单页面 | 1. 页面无白屏/闪烁<br>2. 黑名单列表正常渲染<br>3. 用户头像和名称正确显示 | P0 |
| BL-002 | BlackList | 空列表状态 | 黑名单为空 | 1. 进入黑名单页面 | 1. 显示 EmptyList 空状态占位<br>2. 无异常渲染 | P0 |
| BL-003 | BlackList | 用户名称截断 | 黑名单用户昵称超长 | 1. 查看超长昵称的用户项 | 1. 文本单行显示<br>2. 超出部分显示省略号 | P1 |
| BL-004 | BlackList | 滑动删除-左滑出现 | 有黑名单用户 | 1. 左滑某个用户项 | 1. 右侧滑出红色「移出」按钮<br>2. 滑动动画流畅<br>3. 按钮宽度合适（约 150rpx） | P0 |
| BL-005 | BlackList | 滑动删除-点击移出 | 已滑出「移出」按钮 | 1. 点击「移出」按钮 | 1. 调用 removeFromBlacklist<br>2. 成功后显示 Toast「已移出」<br>3. 该用户从列表中移除 | P0 |
| BL-006 | BlackList | 滑动删除-自动关闭 | 已滑出「移出」按钮 | 1. 左滑另一个用户项 | 1. 前一个打开的滑动项自动关闭<br>2. 新滑动项正常打开 | P1 |
| BL-007 | BlackList | 用户项点击 | 有黑名单用户 | 1. 点击某个用户项（非滑动区域） | 1. 触发 userClick 事件<br>2. 可跳转到用户详情 | P1 |
| BL-008 | BlackList | 滑动删除-网络失败 | 网络异常 | 1. 左滑并点击「移出」<br>2. 网络请求失败 | 1. 显示错误 Toast<br>2. 用户项不被移除<br>3. 滑动状态保持 | P1 |

---

### 2.3 FriendApplicationList 好友申请列表

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| FAL-001 | FriendApplicationList | 页面首次加载 | 有待处理的好友申请 | 1. 进入好友申请列表页面 | 1. 页面无白屏/闪烁<br>2. 申请列表正常渲染<br>3. 每项显示头像、名称、验证信息 | P0 |
| FAL-002 | FriendApplicationList | 空列表状态 | 无好友申请 | 1. 进入好友申请列表页面 | 1. 显示 EmptyList 空状态占位 | P0 |
| FAL-003 | FriendApplicationList | 申请者名称截断 | 申请者名称超长 | 1. 查看超长名称的申请项 | 1. 名称单行显示并省略 | P1 |
| FAL-004 | FriendApplicationList | 验证信息截断 | 验证信息(addWording)超长 | 1. 查看验证信息超长的申请项 | 1. 验证信息单行显示并省略 | P1 |
| FAL-005 | FriendApplicationList | 同意好友申请 | 有待处理申请（type=1） | 1. 点击「同意」按钮 | 1. 调用 acceptFriendApplication<br>2. 成功后显示 Toast「已同意」<br>3. 按钮区域更新（不再显示按钮） | P0 |
| FAL-006 | FriendApplicationList | 拒绝好友申请 | 有待处理申请（type=1） | 1. 点击「拒绝」按钮 | 1. 调用 refuseFriendApplication<br>2. 成功后显示 Toast「已拒绝」 | P0 |
| FAL-007 | FriendApplicationList | 等待验证状态 | 我发出的申请（type=2） | 1. 查看我发出的申请项 | 1. 不显示「同意/拒绝」按钮<br>2. 显示「等待验证」文字 | P1 |
| FAL-008 | FriendApplicationList | 申请项点击 | 有申请数据 | 1. 点击某个申请项 | 1. 触发 itemClick 事件<br>2. 可跳转到申请详情页 | P1 |
| FAL-009 | FriendApplicationList | 未读数自动清除 | 有未读申请角标 | 1. 进入好友申请列表页面<br>2. 返回联系人列表 | 1. 进入时调用 clearFriendApplicationUnreadCount<br>2. 返回后角标清除 | P1 |
| FAL-010 | FriendApplicationList | 按钮防重复点击 | 待处理申请 | 1. 快速连续点击「同意」按钮多次 | 1. 只执行一次请求<br>2. 不出现重复提交 | P1 |

---

### 2.4 GroupApplicationList 群申请列表

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| GAL-001 | GroupApplicationList | 页面首次加载 | 有待处理的群申请 | 1. 进入群申请列表页面 | 1. 页面无白屏/闪烁<br>2. 只显示待处理的申请（handledStatus=0）<br>3. 显示申请人头像、名称、验证信息、目标群名 | P0 |
| GAL-002 | GroupApplicationList | 空列表状态 | 无待处理群申请 | 1. 进入群申请列表页面 | 1. 显示 EmptyList 空状态占位 | P0 |
| GAL-003 | GroupApplicationList | 申请人名称截断 | 申请人名称超长 | 1. 查看超长名称的申请项 | 1. 名称单行显示并省略 | P1 |
| GAL-004 | GroupApplicationList | 验证信息截断 | 验证信息超长 | 1. 查看验证信息超长的申请项 | 1.「验证信息：xxx」单行显示并省略 | P1 |
| GAL-005 | GroupApplicationList | 群名称截断 | 目标群名称超长 | 1. 查看群名超长的申请项 | 1.「申请加入 xxx」单行显示并省略 | P1 |
| GAL-006 | GroupApplicationList | 同意群申请 | 有待处理群申请 | 1. 点击「同意」按钮 | 1. 调用 acceptGroupApplication<br>2. 成功后显示 Toast「已同意」<br>3. 该申请从列表中移除 | P0 |
| GAL-007 | GroupApplicationList | 拒绝群申请 | 有待处理群申请 | 1. 点击「拒绝」按钮 | 1. 调用 refuseGroupApplication<br>2. 成功后显示 Toast「已拒绝」 | P0 |
| GAL-008 | GroupApplicationList | 未读数自动清除 | 有未读群申请角标 | 1. 进入群申请列表页面<br>2. 返回联系人列表 | 1. 进入时调用 clearGroupApplicationUnreadCount<br>2. 返回后角标清除 | P1 |

---

### 2.5 GroupList 群组列表

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| GL-001 | GroupList | 页面首次加载 | 用户已加入群组 | 1. 进入群组列表页面 | 1. 页面无白屏/闪烁<br>2. 群组按首字母分组显示<br>3. 每项显示群头像和群名 | P0 |
| GL-002 | GroupList | 空列表状态 | 用户未加入任何群组 | 1. 进入群组列表页面 | 1. 显示 EmptyList 空状态占位 | P0 |
| GL-003 | GroupList | 群名称截断 | 群名称超长 | 1. 查看超长群名的群组项 | 1. 群名单行显示并省略 | P1 |
| GL-004 | GroupList | 群头像类型 | 有不同类型群组（Work/Public/Meeting/AVChatRoom） | 1. 查看不同类型群组 | 1. 默认头像根据 groupType 显示不同样式 | P2 |
| GL-005 | GroupList | 群组项点击 | 有群组数据 | 1. 点击某个群组项 | 1. 触发 groupSelect 事件<br>2. 可跳转到群聊会话或群详情 | P0 |
| GL-006 | GroupList | 字母分组显示 | 群组跨多个字母分组 | 1. 查看群组列表 | 1. 每个字母分组有灰色分组头<br>2. 分组头显示字母 | P1 |

---

### 2.6 FriendInfo 好友详情

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| FI-001 | FriendInfo | 页面首次加载 | 传入有效 friendInfo | 1. 进入好友详情页 | 1. 页面无白屏/闪烁<br>2. 头像、名称、ID、签名正确显示<br>3. 设置项（备注、免打扰、置顶、黑名单）正常显示<br>4. 操作按钮（发消息、删除好友）显示 | P0 |
| FI-002 | FriendInfo | 名称显示优先级 | 好友有备注、昵称、userID | 1. 查看好友名称 | 1. 优先显示备注<br>2. 无备注显示昵称<br>3. 无昵称显示 userID | P0 |
| FI-003 | FriendInfo | 名称截断 | 好友名称超长 | 1. 查看超长名称 | 1. 名称单行显示并省略 | P1 |
| FI-004 | FriendInfo | ID 截断 | userID 超长 | 1. 查看超长 ID | 1. ID 单行显示并省略 | P1 |
| FI-005 | FriendInfo | 个性签名截断 | 签名超长（>40字） | 1. 查看超长签名 | 1. 签名最多显示 2 行<br>2. 超出部分显示省略号 | P1 |
| FI-006 | FriendInfo | 无签名状态 | 好友无个性签名 | 1. 查看无签名好友的详情 | 1. 签名区域不显示 | P2 |
| FI-007 | FriendInfo | 备注名显示 | 好友有/无备注 | 1. 查看备注名设置行 | 1. 有备注显示备注名<br>2. 无备注显示「未设置」 | P1 |
| FI-008 | FriendInfo | 备注名截断 | 备注名超长 | 1. 查看超长备注的设置行 | 1. 备注名截断显示（max-width: 400rpx） | P1 |
| FI-009 | FriendInfo | 编辑备注入口 | - | 1. 点击备注名设置行 | 1. 触发 remarkEdit 事件<br>2. 可跳转到设置备注页面 | P0 |
| FI-010 | FriendInfo | 消息免打扰开关 | - | 1. 切换消息免打扰开关 | 1. 调用 muteConversation<br>2. 开关状态正确更新<br>3. 失败时显示错误 Toast 并回滚状态 | P0 |
| FI-011 | FriendInfo | 置顶聊天开关 | - | 1. 切换置顶聊天开关 | 1. 调用 pinConversation<br>2. 开关状态正确更新 | P0 |
| FI-012 | FriendInfo | 加入黑名单开关 | - | 1. 切换加入黑名单开关 | 1. 开启时调用 addToBlacklist，显示「已加入黑名单」<br>2. 关闭时调用 removeFromBlacklist，显示「已移出黑名单」 | P0 |
| FI-013 | FriendInfo | 发送消息 | - | 1. 点击「发送消息」按钮 | 1. 触发 sendMessage 事件<br>2. 可跳转到聊天页面 | P0 |
| FI-014 | FriendInfo | 删除好友 | - | 1. 点击「删除好友」按钮 | 1. 弹出确认弹窗<br>2. 弹窗显示「确定删除该好友」<br>3. 弹窗内容「删除联系人同时清空聊天记录」 | P0 |
| FI-015 | FriendInfo | 删除好友-确认 | 已弹出删除确认弹窗 | 1. 点击「确定删除」 | 1. 调用 deleteFriend<br>2. 成功后显示「已删除」<br>3. 触发 deleteFriend 事件 | P0 |
| FI-016 | FriendInfo | 删除好友-取消 | 已弹出删除确认弹窗 | 1. 点击「取消」 | 1. 弹窗关闭<br>2. 不执行删除操作 | P1 |
| FI-017 | FriendInfo | scroll-view 滚动 | 页面内容超出屏幕 | 1. 上下滑动页面 | 1. 滚动流畅<br>2. 无滚动穿透问题 | P1 |

---

### 2.7 AddFriendInfo 添加好友详情

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| AFI-001 | AddFriendInfo | 页面首次加载-非好友 | 搜索到非好友用户 | 1. 进入添加好友详情页 | 1. 显示用户头像、昵称、ID、签名<br>2. 显示「添加好友」按钮 | P0 |
| AFI-002 | AddFriendInfo | 页面首次加载-已是好友 | 搜索到已是好友的用户 | 1. 进入添加好友详情页 | 1. 显示用户信息<br>2. 显示「发送消息」按钮（非「添加好友」） | P0 |
| AFI-003 | AddFriendInfo | 名称截断 | 用户名称超长 | 1. 查看超长名称 | 1. 单行显示并省略 | P1 |
| AFI-004 | AddFriendInfo | ID 截断 | userID 超长 | 1. 查看超长 ID | 1. 单行显示并省略 | P1 |
| AFI-005 | AddFriendInfo | 签名截断 | 签名超长 | 1. 查看超长签名 | 1. 最多 2 行显示并省略 | P1 |
| AFI-006 | AddFriendInfo | 添加好友 | 非好友用户 | 1. 点击「添加好友」按钮 | 1. 触发 addFriend 事件<br>2. 可跳转到验证信息填写页 | P0 |
| AFI-007 | AddFriendInfo | 发送消息 | 已是好友 | 1. 点击「发送消息」按钮 | 1. 触发 sendMessage 事件 | P1 |

---

### 2.8 NewContactInfo 新联系人申请详情

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| NCI-001 | NewContactInfo | 页面首次加载 | 有待处理的好友申请 | 1. 进入申请详情页 | 1. 显示申请人头像、名称、ID、签名<br>2. 显示验证信息<br>3. 显示「同意」「拒绝」按钮 | P0 |
| NCI-002 | NewContactInfo | 名称截断 | 申请人名称超长 | 1. 查看超长名称 | 1. 单行显示并省略 | P1 |
| NCI-003 | NewContactInfo | 验证信息截断 | 验证信息超长 | 1. 查看超长验证信息 | 1. 单行显示并省略 | P1 |
| NCI-004 | NewContactInfo | 同意申请 | 待处理申请 | 1. 点击「同意」按钮 | 1. 调用 acceptFriendApplication<br>2. 成功后显示「已同意」Toast<br>3. 按钮区域变为「已同意」文字 | P0 |
| NCI-005 | NewContactInfo | 拒绝申请 | 待处理申请 | 1. 点击「拒绝」按钮 | 1. 调用 refuseFriendApplication<br>2. 成功后显示「已拒绝」Toast<br>3. 按钮区域变为「已拒绝」文字 | P0 |
| NCI-006 | NewContactInfo | 已处理状态 | 申请已被处理 | 1. 查看已处理的申请详情 | 1. 不显示操作按钮<br>2. 显示处理结果文字 | P1 |
| NCI-007 | NewContactInfo | 重复点击防护 | 待处理申请 | 1. 快速连续点击「同意」 | 1. 只执行一次操作<br>2. 不重复提交 | P1 |

---

### 2.9 ApplicationVerify 验证信息填写

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| AV-001 | ApplicationVerify | 添加好友-页面加载 | type='friend' | 1. 进入验证信息填写页 | 1. 显示「验证信息」输入框<br>2. 显示「备注名」输入框<br>3. 验证信息 placeholder 为「我是xxx」<br>4. 显示「发送」按钮 | P0 |
| AV-002 | ApplicationVerify | 加入群组-页面加载 | type='group' | 1. 进入验证信息填写页 | 1. 只显示「验证信息」输入框（无备注名）<br>2. 显示「发送」按钮 | P0 |
| AV-003 | ApplicationVerify | 验证信息输入 | - | 1. 在验证信息输入框输入文字 | 1. 输入正常<br>2. 最大长度限制 100 字符 | P1 |
| AV-004 | ApplicationVerify | 备注名输入 | type='friend' | 1. 在备注名输入框输入文字 | 1. 输入正常<br>2. 最大长度限制 50 字符 | P1 |
| AV-005 | ApplicationVerify | 发送好友申请 | type='friend'，已填写验证信息 | 1. 点击「发送」按钮 | 1. 调用 addFriend<br>2. 成功后显示「添加好友成功」或「已发送申请」<br>3. 触发 success 事件 | P0 |
| AV-006 | ApplicationVerify | 发送群申请 | type='group'，已填写验证信息 | 1. 点击「发送」按钮 | 1. 调用 joinGroup<br>2. 成功后显示「已发送申请」<br>3. 触发 success 事件 | P0 |
| AV-007 | ApplicationVerify | 发送按钮禁用态 | 正在提交中 | 1. 点击「发送」后再次点击 | 1. 按钮显示禁用态（opacity: 0.6）<br>2. 不重复提交 | P1 |
| AV-008 | ApplicationVerify | 发送失败 | 网络异常 | 1. 点击「发送」<br>2. 请求失败 | 1. 显示错误 Toast<br>2. 触发 fail 事件<br>3. 按钮恢复可点击 | P1 |
| AV-009 | ApplicationVerify | 默认验证信息 | 未输入验证信息 | 1. 直接点击「发送」 | 1. 使用 placeholder 内容作为验证信息<br>2. 正常发送 | P2 |
| AV-010 | ApplicationVerify | 键盘收起 | - | 1. 点击输入框外区域 | 1. 键盘收起<br>2. 页面布局正常 | P1 |

---

### 2.10 SetRemark 设置备注

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| SR-001 | SetRemark | 页面加载-有备注 | 好友已有备注名 | 1. 进入设置备注页 | 1. 输入框显示当前备注名<br>2. 输入框自动获取焦点 | P0 |
| SR-002 | SetRemark | 页面加载-无备注 | 好友无备注名 | 1. 进入设置备注页 | 1. 输入框为空<br>2. 显示 placeholder「请输入备注名」 | P0 |
| SR-003 | SetRemark | 备注名输入 | - | 1. 输入备注名 | 1. 输入正常<br>2. 最大长度限制 20 字符 | P1 |
| SR-004 | SetRemark | 保存备注 | 已输入备注名 | 1. 点击「保存」按钮 | 1. 调用 setUserRemark<br>2. 成功后显示「设置成功」Toast<br>3. 触发 success 事件 | P0 |
| SR-005 | SetRemark | 保存按钮禁用态 | 正在提交中 | 1. 点击「保存」后再次点击 | 1. 按钮显示禁用态<br>2. 不重复提交 | P1 |
| SR-006 | SetRemark | 保存失败 | 网络异常 | 1. 点击「保存」<br>2. 请求失败 | 1. 显示错误 Toast<br>2. 触发 fail 事件 | P1 |
| SR-007 | SetRemark | 清空备注 | 好友已有备注 | 1. 清空输入框内容<br>2. 点击「保存」 | 1. 成功清空备注<br>2. 好友详情页备注显示「未设置」 | P2 |

---

### 2.11 AddFriend 搜索添加好友

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| AF-001 | AddFriend | 页面首次加载 | 用户已登录 | 1. 进入添加好友页面 | 1. 显示居中的搜索框（假输入框状态）<br>2. 显示「我的用户ID：xxx」 | P0 |
| AF-002 | AddFriend | 激活搜索框 | 页面初始状态 | 1. 点击搜索框 | 1. 切换为真实输入框<br>2. 输入框获取焦点<br>3. 搜索图标在左侧 | P0 |
| AF-003 | AddFriend | 输入用户 ID | 搜索框已激活 | 1. 输入用户 ID | 1. 输入正常显示<br>2. 出现清空按钮（X） | P0 |
| AF-004 | AddFriend | 清空输入 | 已输入内容 | 1. 点击清空按钮 | 1. 输入内容清空<br>2. 搜索结果清除<br>3. 回到初始状态 | P1 |
| AF-005 | AddFriend | 执行搜索-空输入 | 输入框为空 | 1. 点击键盘「搜索」或回车 | 1. 显示 Toast「请输入用户ID」<br>2. 不执行搜索 | P1 |
| AF-006 | AddFriend | 执行搜索-有结果 | 输入有效用户 ID | 1. 输入用户 ID<br>2. 点击键盘「搜索」 | 1. 键盘收起<br>2. 显示搜索结果列表<br>3. 结果显示用户头像、昵称、ID | P0 |
| AF-007 | AddFriend | 执行搜索-无结果 | 输入不存在的用户 ID | 1. 输入不存在的 ID<br>2. 点击「搜索」 | 1. 显示「该用户不存在」 | P0 |
| AF-008 | AddFriend | 搜索中状态 | - | 1. 执行搜索 | 1. 显示「搜索中...」 | P1 |
| AF-009 | AddFriend | 搜索结果点击 | 有搜索结果 | 1. 点击搜索结果中的用户 | 1. 键盘收起<br>2. 触发 userSelect 事件<br>3. 可跳转到用户详情 | P0 |
| AF-010 | AddFriend | 收起键盘 | 键盘已弹出 | 1. 点击页面空白区域 | 1. 键盘收起<br>2. 输入框失去焦点 | P1 |
| AF-011 | AddFriend | 失去焦点-无输入 | 激活后未输入 | 1. 激活输入框<br>2. 点击空白区域失去焦点 | 1. 回到初始状态（假输入框居中） | P2 |

---

### 2.12 AddGroup 搜索加入群组

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| AG-001 | AddGroup | 页面首次加载 | - | 1. 进入搜索群组页面 | 1. 显示居中的搜索框（假输入框状态）<br>2. placeholder「搜索群ID」 | P0 |
| AG-002 | AddGroup | 激活搜索框 | 页面初始状态 | 1. 点击搜索框 | 1. 切换为真实输入框<br>2. 获取焦点 | P0 |
| AG-003 | AddGroup | 执行搜索-空输入 | 输入框为空 | 1. 点击「搜索」 | 1. 显示 Toast「请输入群ID」 | P1 |
| AG-004 | AddGroup | 执行搜索-有结果 | 输入有效群 ID | 1. 输入群 ID<br>2. 点击「搜索」 | 1. 键盘收起<br>2. 显示群信息（头像、群名、ID、群类型） | P0 |
| AG-005 | AddGroup | 执行搜索-无结果 | 输入不存在的群 ID | 1. 输入不存在的 ID<br>2. 点击「搜索」 | 1. 显示「该群聊不存在」 | P0 |
| AG-006 | AddGroup | 搜索结果点击 | 有搜索结果 | 1. 点击搜索结果中的群 | 1. 触发 groupSelect 事件<br>2. 可跳转到加入群验证页 | P0 |
| AG-007 | AddGroup | 清空输入 | 已输入内容 | 1. 点击清空按钮 | 1. 输入内容清空<br>2. 搜索结果清除 | P1 |

---

### 2.13 占位组件

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| PH-001 | EmptyList | 空列表显示 | 列表数据为空 | 1. 进入空列表状态的页面 | 1. 居中显示「暂无联系人」<br>2. 文字颜色 #999999<br>3. 无闪烁 | P1 |
| PH-002 | Loading | 加载中显示 | 数据加载中 | 1. 进入加载中状态的页面 | 1. 居中显示「加载中...」<br>2. 文字颜色 #999999 | P1 |

---

## 三、nvue 专项测试

### 3.1 页面转场

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| NV-001 | 全模块 | NavigateTo 转场-无白屏 | - | 1. 从联系人列表点击进入好友详情<br>2. 观察转场过程 | 1. 无白屏闪烁<br>2. 转场动画流畅<br>3. 新页面内容完整渲染 | P0 |
| NV-002 | 全模块 | NavigateTo 转场-无渲染一半 | - | 1. 快速点击进入页面 | 1. 页面内容完整显示<br>2. 不出现「渲染一半」的中间态 | P0 |
| NV-003 | 全模块 | NavigateBack 返回 | 在子页面 | 1. 点击返回或物理返回键 | 1. 返回流畅<br>2. 上一页状态保持 | P0 |
| NV-004 | 全模块 | 频繁页面切换 | - | 1. 快速反复进入退出页面 10 次 | 1. 无内存泄漏<br>2. 无页面堆栈异常<br>3. 性能无明显下降 | P1 |

### 3.2 Flex 布局兼容性

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| NV-005 | ContactList | flex 布局-入口项 | - | 1. 查看联系人列表入口项 | 1. 图标、文字、箭头水平对齐<br>2. 间距正确 | P0 |
| NV-006 | ContactList | flex 布局-好友项 | - | 1. 查看好友列表项 | 1. 头像、名称水平对齐<br>2. 分割线位置正确 | P0 |
| NV-007 | FriendInfo | flex 布局-设置行 | - | 1. 查看好友详情设置行 | 1. 标签和开关/值两端对齐<br>2. 垂直居中 | P0 |
| NV-008 | FriendApplicationList | flex 布局-按钮区域 | - | 1. 查看好友申请项的按钮 | 1. 「同意」「拒绝」按钮水平排列<br>2. 间距合理 | P1 |

### 3.3 文本处理

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| NV-009 | 全模块 | 单行文本截断 | 文本内容超长 | 1. 查看各组件中的名称、ID 等单行文本 | 1. 超出部分显示省略号（...）<br>2. 不换行<br>3. 不溢出 | P0 |
| NV-010 | 全模块 | 多行文本截断 | 签名等多行文本超长 | 1. 查看签名区域 | 1. 最多显示指定行数（2行）<br>2. 超出显示省略号 | P1 |
| NV-011 | 全模块 | 特殊字符处理 | 包含 emoji、特殊符号 | 1. 查看包含特殊字符的名称/签名 | 1. 正常显示<br>2. 不乱码<br>3. 不影响布局 | P1 |

### 3.4 CSS 样式支持

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| NV-012 | 全模块 | 圆角渲染 | - | 1. 查看头像、按钮等圆角元素 | 1. 圆角渲染正确<br>2. 无锯齿 | P1 |
| NV-013 | 全模块 | 边框样式 | - | 1. 查看分割线、边框 | 1. 1rpx 边框正常显示<br>2. 颜色正确 | P1 |
| NV-014 | 全模块 | 背景色 | - | 1. 查看各区域背景色 | 1. 灰色背景（#F2F3F5）正确<br>2. 白色区块正确 | P1 |

### 3.5 list 组件性能

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| NV-015 | ContactList | 长列表滑动帧率 | 好友 500+ | 1. 快速滑动好友列表<br>2. 使用性能监测工具 | 1. 帧率 ≥ 55fps<br>2. 无明显卡顿 | P0 |
| NV-016 | ContactList | 列表 cell 复用 | 好友 500+ | 1. 反复上下滑动列表 | 1. 无内容错位<br>2. 无重复渲染 | P0 |
| NV-017 | GroupList | 长列表滑动 | 群组 100+ | 1. 快速滑动群组列表 | 1. 滑动流畅<br>2. 分组头正确显示 | P1 |

---

## 四、iOS 与 Android 差异测试

| 用例编号 | 模块/组件 | 测试项 | 操作步骤 | iOS 预期 | Android 预期 | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| PA-001 | 全模块 | 返回手势 | iOS 侧滑返回，Android 物理返回键 | 侧滑返回流畅 | 物理返回键正常 | P0 |
| PA-002 | 全模块 | 键盘弹出 | 点击输入框 | 键盘弹出，页面上推 | 键盘弹出，页面上推 | P0 |
| PA-003 | 全模块 | 键盘收起 | 点击空白区域 | 键盘收起 | 键盘收起 | P0 |
| PA-004 | 全模块 | 状态栏适配 | 刘海屏/动态岛 vs 挖孔屏 | 内容不与刘海重叠 | 内容不与挖孔重叠 | P0 |
| PA-005 | switch 组件 | 开关样式 | 查看开关组件 | iOS 原生风格 | Android Material 风格 | P2 |
| PA-006 | input 组件 | 输入框光标 | 点击输入框 | iOS 光标样式 | Android 光标样式 | P2 |

---

## 五、网络与数据异常测试

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| NE-001 | ContactList | 网络断开-列表加载 | 网络断开 | 1. 进入联系人列表页 | 1. 显示加载状态或错误提示<br>2. 不崩溃 | P1 |
| NE-002 | AddFriend | 网络断开-搜索 | 网络断开 | 1. 搜索用户 | 1. 搜索失败<br>2. 显示错误提示 | P1 |
| NE-003 | FriendInfo | 网络断开-操作 | 网络断开 | 1. 切换免打扰开关 | 1. 操作失败<br>2. 开关状态回滚<br>3. 显示错误 Toast | P1 |
| NE-004 | 全模块 | 弱网环境 | 2G/3G 弱网 | 1. 进行各种操作 | 1. 有适当的加载状态<br>2. 不超时崩溃<br>3. 响应慢但能完成 | P1 |
| NE-005 | 全模块 | 网络恢复 | 网络断开后恢复 | 1. 断网状态下操作失败<br>2. 恢复网络后重试 | 1. 重试成功<br>2. 数据正常更新 | P2 |

---

## 六、边界条件测试

| 用例编号 | 模块/组件 | 测试项 | 前置条件 | 操作步骤 | 预期结果 (强调原生体验) | 优先级 |
|:---|:---|:---|:---|:---|:---|:---|
| BC-001 | ContactList | 好友数量边界-0 | 无好友 | 1. 进入联系人列表 | 显示空状态 | P0 |
| BC-002 | ContactList | 好友数量边界-1 | 只有 1 个好友 | 1. 进入联系人列表 | 1. 正常显示 1 个好友<br>2. 字母索引只有 1 个字母 | P1 |
| BC-003 | ContactList | 好友数量边界-1000+ | 超多好友 | 1. 进入联系人列表<br>2. 滑动浏览 | 1. 列表正常渲染<br>2. 性能可接受 | P1 |
| BC-004 | 全模块 | 空字符串处理 | 名称/签名为空字符串 | 1. 查看相关显示 | 1. 不显示空白区域<br>2. fallback 到默认值 | P1 |
| BC-005 | 全模块 | 特殊字符用户 ID | userID 包含特殊字符 | 1. 查看用户信息 | 1. 正常显示<br>2. 不影响功能 | P2 |
| BC-006 | 未读角标 | 角标数量边界-99 | 未读数=99 | 1. 查看角标 | 显示「99」 | P1 |
| BC-007 | 未读角标 | 角标数量边界-100 | 未读数=100 | 1. 查看角标 | 显示「99+」 | P1 |
| BC-008 | 输入框 | 最大长度限制 | - | 1. 输入超过最大长度的内容 | 1. 无法继续输入<br>2. 不截断已输入内容 | P1 |

---

## 七、测试优先级说明

| 优先级 | 说明 | 数量 |
|-------|------|------|
| P0 | 核心功能、阻断性问题，必须通过 | 约 60 条 |
| P1 | 重要功能、用户体验问题，建议通过 | 约 50 条 |
| P2 | 次要功能、边缘场景，选择性测试 | 约 20 条 |

---

## 八、测试环境要求

### 8.1 设备要求

| 平台 | 最低版本 | 推荐测试机型 |
|------|---------|-------------|
| iOS | iOS 12+ | iPhone 12 / iPhone 14 Pro（动态岛）/ iPhone SE |
| Android | Android 8.0+ | 华为 Mate 系列 / 小米 / OPPO / 三星折叠屏 |

### 8.2 测试账号要求

- 至少准备 3 个测试账号
- 账号间需建立好友关系用于测试
- 需要有加入的群组
- 需要模拟黑名单用户
- 需要模拟好友申请/群申请

---

**文档结束**
